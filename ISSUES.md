# 编程过程中发现的问题

## 重复项问题

输入关键字时，若操作过快或网络延迟，就会导致TableView中因没有来得及处理先前的请求而出现重复项。为此我会考虑加入互斥锁。

**复现方法例：**关键字“luzhaixian”，快速退格并键入最右边的“an”，可在列表中看到两个河南省路寨乡。观察事先标好的QDebug()可以发现，如此操作在短时间内完成了两次连续的查询。

**解决状态：**已解决，加入互斥锁（mutex lock）。在进行API请求前锁上互斥锁，接收到数据后解除互斥锁，并在请求之前判断互斥锁状态——一旦锁上就不应继续后面的过程。但是，我实现的仅仅是一个简单的互斥锁，实际功用是过滤掉短时间内产生的重复输出。要写出更深层次的互斥锁，还得多学习一番。



